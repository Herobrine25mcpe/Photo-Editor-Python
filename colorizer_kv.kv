<MainLayout>
    id:widget

    BoxLayout:
    #Mainbox
        cols:2
        size: root.width, root.height

        BoxLayout:
            #Grid1

            orientation:"vertical"
            size_hint: (0.1,1)
            padding:10
            spacing:10

            Button:
                text: "themes"
                font_size: 17
                background_normal: ''
                background_color:(0,0,0,0)
                canvas.before:
                    Color:
                        rgba:(0,0,0,0.5)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius:[10]

            Button:
                font_size: 17
                background_normal: ''
                background_color:(0.84, 0.84, 0.84, 1)
                canvas.before:
                    Color:
                        rgba:(0,0,0,0.5)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius:[10]

                on_press: root.theme("l")

            Button:
                font_size: 17
                background_normal: ''
                background_color:(0.14, 0.14, 0.14, 1)
                canvas.before:
                    Color:
                        rgba:(0,0,0,0.5)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius:[10]

                on_press: root.theme("d")

            Button:

                font_size: 17
                background_normal: ''
                background_color:(0.54,0.54,0.65,1)
                canvas.before:
                    Color:
                        rgba:(0,0,0,0.5)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius:[10]

                on_press: root.theme("lp")

            Button:

                font_size: 17
                background_normal: ''
                background_color:(0.14,0.14,0.25,1)
                canvas.before:
                    Color:
                        rgba:(0,0,0,0.5)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius:[10]

                on_press: root.theme("dp")

            Button:

                font_size: 17
                background_normal: ''
                background_color:(0.68, 0.24, 0.24, 1)
                canvas.before:
                    Color:
                        rgba:(0,0,0,0.5)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius:[10]

                on_press: root.theme("r")

            Button:

                font_size: 17
                background_normal: ''
                background_color:(0.14,0.24,0.55,1)
                canvas.before:
                    Color:
                        rgba:(0,0,0,0.5)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius:[10]

                on_press: root.theme("b")

            Button:

                font_size: 17
                background_normal: ''
                background_color:(0.14,0.85,0.85,1)
                canvas.before:
                    Color:
                        rgba:(0,0,0,0.5)
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius:[10]

                on_press: root.theme("db")

        BoxLayout:
            # Grid2
            orientation:"horizontal"
            size_hint: (.4,1)
            padding: 8

            BoxLayout:

                orientation:"vertical"
                size_hint: (0.4,1)

                FileChooserListView:
                    id:filechooser
                    on_selection: widget.selected(filechooser.selection)


        BoxLayout:
            #Functionbox
            orientation: "vertical"

            BoxLayout:
                orientation: "horizontal"

                padding: 40
                spacing: 20

                FullImage:
                    #Box1
                    id: image1

                    source: ""
                    nocache: True

                    size_hint: (.5,1)

                FullImage:
                    #Box2
                    id: image2

                    source: ""
                    nocache: True

                    size_hint: (.5,1)

            BoxLayout:
                orientation: "horizontal"
                cols:2
                size_hint: (1,0.5)
                padding: 8
                spacing: 8

                FloatLayout:
                    Button:

                        size_hint:(0.70,1)
                        pos_hint: {"x":0.06, "y":0.02}
                        background_normal: ''
                        background_color:(0,0,0,0)
                        canvas.before:
                            Color:
                                rgba:(0,0,0,0.6)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius:[10]

                    RoundButton:

                        pos_hint: {"x":0.80, "y":0.9}
                        text: "Save"
                        font_size: 17
                        size_hint: (0.15,0.2)
                        on_press: root.download()

                    RoundButton:

                        pos_hint: {"x":0.80, "y":0.6}
                        text: "Reset"
                        size_hint: (0.15,0.2)
                        font_size: 17
                        on_press: root.reset()

                    RoundButton:

                        pos_hint: {"x":0.80, "y":0.3}
                        text: "Colorize"
                        size_hint: (0.15,0.2)
                        font_size: 17
                        on_press: root.colorize()

                    RoundButton:

                        pos_hint: {"x":0.80, "y":0}
                        text: "Apply"
                        size_hint: (0.15,0.2)
                        font_size: 17
                        on_press: root.apply()

                    Label:
                        pos_hint: {"x":0.1, "y":0.65}
                        size_hint: (.1,0.2)
                        font_size: 18
                        outline_color: (0,0,0)
                        outline_width: 1
                        text: "Saturation"

                    Label:
                        pos_hint: {"x":0.1, "y":0.40}
                        size_hint: (.1,0.2)
                        font_size: 18
                        outline_color: (0,0,0)
                        outline_width: 1
                        text: "Brightness"

                    Label:
                        pos_hint: {"x":0.09, "y":0.15}
                        size_hint: (.1,0.2)
                        font_size: 18
                        outline_color: (0,0,0)
                        outline_width: 1
                        text: "Contrast"

                    Slider:
                        id:saturation_slider
                        pos_hint: {"x":0.25, "y":0.65}
                        min:1
                        max:100
                        step:1
                        size_hint: (.4,0.2)
                        on_value:root.satu_slider(*args)


                    Slider:
                        id:Brightness_slider
                        pos_hint: {"x":0.25, "y":0.40}
                        min:1
                        max:100
                        step:1
                        size_hint: (.4,0.2)
                        on_value: root.bright_slider(*args)

                    Slider:
                        id:contrast_slider
                        pos_hint: {"x":0.25, "y":0.15}
                        min:100
                        max:300
                        step:1
                        size_hint: (.4,0.2)
                        on_value:root.cont_slider(*args)











<RoundButton@Button>

    background_normal: ''
    background_color:(0,0,0,0)
    canvas.before:
        Color:
            rgba:(0.5,1,1,0.5)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius:[10]
